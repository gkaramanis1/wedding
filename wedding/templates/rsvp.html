{% extends "layout.html" %}
{% block content %}

<body style="background-image: url('../static/background2.JPG');">
<h2 style="margin-top: 100px; text-align: center; color: whitesmoke; font-family: 'Allura', cursive;">Wedding Day</h2>
<h6 style="text-align: center; color: whitesmoke; font-family: 'Quicksand';margin-bottom: 30px;">at 3:00 PM</h4>
<form action="/submit-rsvp" method="POST" class="form-group text-center">
    {% for guest in guests %}
        <div class="input-group" style="color: whitesmoke; margin-bottom: 30px;">
                <div style="font-size: 25px; font-family: 'Quicksand'; margin-right: 10px;">
                {{ guest.first_name }} {{ guest.last_name }}
                </div>
                <button type="button" onclick="toggleRSVP(this)" class="btn btn-primary btn-lg mx-auto d-block" style="border-color: #779ecb;height: 40px;
                width: 124px;
                font-size: 16px;
		border-radius: 2px;" id="{{ guest.id }}_accepted">Accept</button>

                <button type="button" onclick="toggleRSVP(this)" class="btn btn-primary btn-lg mx-auto d-block" style="height: 40px;
                width: 124px;
                font-size: 16px;
		border-radius: 2px;" id="{{ guest.id }}_declined">Decline</button>

		<textarea id="{{ guest.id }}_allergies" name="{{ guest.id }}_allergies" class="form-control" style=" height: 40px;
                max-width: 200px;
                font-size: 16px; resize: none; border-radius: 2px;" placeholder="List Allergies"></textarea>
                <input type="hidden" id="{{ guest.id }}_response" name="{{ guest.id }}_response">
        </div>
    {% endfor %}

	<script>
	    function toggleRSVP(button) {
		if (button == null) return;

		// Get the guest ID by string.
		var buttonId = button.id;
		var guestId = buttonId.substring(0, buttonId.indexOf("_"))

		// Here you are going to take in which button got clicked and set the value of the rsvp_value input element to whatever button got clicked and update the forecolor of both buttons.
		var accepted = document.getElementById(guestId + '_accepted')
		var declined = document.getElementById(guestId + '_declined')

		    if (buttonId == guestId + '_accepted') {
			accepted.classList.add('btn-primary')
			accepted.classList.remove('btn-outline-primary')
			declined.classList.add('btn-outline-primary')
			declined.classList.remove('btn-primary')
			document.getElementById(guestId + '_response').value = true;
		    } else if (buttonId == guestId + '_declined') {
			declined.classList.add('btn-primary')
			declined.classList.remove('btn-outline-primary')
			accepted.classList.add('btn-outline-primary')
			accepted.classList.remove('btn-primary')
			document.getElementById(guestId + '_response').value = false;
		    }

	    }
	</script>
    <button type="submit" class="btn btn-primary btn-sm mx-auto d-block" style="background-color: #779ecb; border-color: #779ecb; border-radius: 5px; cursor: pointer; margin-top: 30px; width: 250px;">Submit</button>
</form>
</container>

<style>
    @media screen and (max-width: 768px) {
      h2 {
        font-size: 30px;
      }
      h6 {
        font-size: 20px;
      }
      .input-group {
        display: flex;
        flex-direction: column;
        align-items: center;
      }
      .input-group > div {
        font-size: 20px;
        margin-bottom: 10px;
      }
      .btn {
        height: 30px;
        width: 100px;
        font-size: 14px;
        margin-bottom: 10px;
      }
      .input-group .form-control {
        height: 30px;
        width: 200px;
        font-size: 14px;
      }
    }
</style>

</body>
{% endblock content %}
